(this["webpackJsonpjob-tracker-client"]=this["webpackJsonpjob-tracker-client"]||[]).push([[0],{159:function(e,t,c){},161:function(e,t,c){"use strict";c.r(t);var n=c(11),a=c(64),s=c.n(a),r=c(20),i=c(70),l=Object(i.a)(),o={domain:"dev-9npol9r6.us.auth0.com",clientId:"4GfZ4cfLN9HiX42YH3oWPq8NHKTiCAIS",redirectUri:window.location.origin,onRedirectCallback:function(e){l.push(e&&e.returnTo?e.returnTo:window.location.pathname)}},j=c(6),u=c(1),b=c.n(u),d=b.a.createContext(),h="LOGIN_SUCCESS",O="LOGIN_FAILURE",m="SET_PROFILE",p="REMOVE_PROFILE",x="SET_DB_PROFILE",f="REMOVE_DB_PROFILE",v={isAuthenticated:!1,dbProfile:null,authProfile:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(n.a)(Object(n.a)({},e),{},{isAuthenticated:!0});case O:return Object(n.a)(Object(n.a)({},e),{},{isAuthenticated:!1});case m:return Object(n.a)(Object(n.a)({},e),{},{authProfile:t.payload});case p:return Object(n.a)(Object(n.a)({},e),{},{authProfile:null});case x:return Object(n.a)(Object(n.a)({},e),{},{dbProfile:t.payload});case f:return Object(n.a)(Object(n.a)({},e),{},{dbProfile:null});default:return e}},y=c(168),N=c(17),C=c(7),S=c(2),w=function(){var e=Object(r.b)(),t=Object(C.l)();return Object(S.jsx)("div",{className:"d-flex justify-content-center",children:Object(S.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(S.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(S.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(S.jsx)("li",{className:"nav-item active",children:Object(S.jsx)(N.b,{to:"/home",style:{padding:"5px"},children:"Home"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(N.b,{to:"/search",style:{padding:"5px"},children:"Search"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(N.b,{to:"/about",style:{padding:"5px"},children:"About"})})]}),Object(S.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){e.isAuthenticated?t("/profile"):e.loginWithPopup()},children:e.isAuthenticated?e.user.email:"Log in"})]})})})},k=c(8),P=c(13),L=c(10),R=c(44),q=c(14);function D(e){var t=e.careersList,c=e.setCareersList,a=e.currentCareerNum,s=Object(u.useContext)(d),r=Object(u.useState)(t[a]),i=Object(j.a)(r,2),l=i[0],o=i[1],b=Object(u.useState)(!1),h=Object(j.a)(b,2),O=h[0],m=h[1];function p(){m(!O)}function x(){0!==l.length&&l!==t[a]&&(t.find((function(e){return e===l}))?alert('Error: "'.concat(l,'" already exists. Cannot create duplicate careers.')):(!function(e,t,a){var r=Object(q.a)(e);if(r[t]=a,s.isAuthenticated&&s.dbProfileState){var i=s.dbProfileState.username,l=e[t],o={username:i,careersList:r,oldCareerName:l,newCareerName:a};y.a.put("/api/put/renamecareer",o).then((function(e){console.log("api/put/renamecareer res.data: ",e.data);var t=Object(n.a)({},s.dbProfileState);t.careers_list=o.careersList,s.dispatchSetDbProfile(t),c(r)})).catch((function(e){console.log("api/put/careernum err",e)}))}else c(r)}(t,a,l),p()))}return Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"dropdown",children:[Object(S.jsx)("button",{type:"button",className:"btn btn-success m-1",onClick:p,children:"Rename Career"}),Object(S.jsxs)(L.Modal,{isOpen:O,toggle:p,children:[Object(S.jsxs)(L.ModalHeader,{toggle:p,children:['Rename The Current Career: "',t[a],'"']}),Object(S.jsx)(L.ModalBody,{children:Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x()},children:[Object(S.jsxs)("div",{children:['Note: renaming this career will change the "career" attribute of all job applications saved with the name "',t[a],"\" to the new name which you're about to enter."]}),Object(S.jsx)("input",{name:"renameCareer",id:"renameCareer",type:"text",className:"form-control",title:"Rename Career",placeholder:"New name",onChange:function(e){o(e.target.value)}}),Object(S.jsx)("button",{type:"button",className:"btn btn-success w-100",onClick:x,children:"Rename"})]})}),Object(S.jsx)(L.ModalFooter,{children:Object(S.jsx)(L.Button,{color:"primary",onClick:p,children:"Close"})})]})]})})}function A(e){var t=e.careersList,c=e.currentCareerNum,a=e.setCurrentCareerNum,s=Object(u.useContext)(d),r=Object(u.useState)(!1),i=Object(j.a)(r,2),l=i[0],o=i[1];function b(){o(!l)}return Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"dropdown",children:[Object(S.jsx)("button",{type:"button",className:"btn btn-success m-1",onClick:function(){b()},children:"Switch Career"}),Object(S.jsxs)(L.Modal,{isOpen:l,toggle:b,children:[Object(S.jsx)(L.ModalHeader,{toggle:b,children:"Select career:"}),Object(S.jsxs)(L.ModalBody,{children:[t.map((function(e,t){return Object(S.jsx)("div",{children:Object(S.jsx)("button",{type:"button",className:"btn btn-success w-100",disabled:c===t,onClick:function(){!function(e){if(s.isAuthenticated&&s.dbProfileState){var t=s.dbProfileState.username,c={currentCareerNum:e,username:t};y.a.put("/api/put/careernum",c).then((function(t){var r=Object(n.a)({},s.dbProfileState);r.current_career_num=c.currentCareerNum,s.dispatchSetDbProfile(r),a(e)})).catch((function(e){console.log("api/put/careernum err",e)}))}else a(e)}(t),b()},children:e})},t)})),Object(S.jsx)("div",{className:"text-center",children:Object(S.jsx)(N.b,{to:"/about",children:"How to delete a career"})})]}),Object(S.jsx)(L.ModalFooter,{children:Object(S.jsx)(L.Button,{color:"primary",onClick:b,children:"Close"})})]})]})})}function _(e){var t=e.careersList,c=e.setCareersList,a=Object(u.useContext)(d),s=Object(u.useState)(""),r=Object(j.a)(s,2),i=r[0],l=r[1],o=Object(u.useState)(!1),b=Object(j.a)(o,2),h=b[0],O=b[1];function m(){O(!h)}function p(){0!==i.length&&(t.find((function(e){return e===i}))?alert('"'.concat(i,'" already exists. Cannot create duplicate careers.')):(!function(e){if(a.isAuthenticated&&a.dbProfileState){var t={username:a.dbProfileState.username,careersList:e};y.a.put("/api/put/careerslist",t).then((function(s){console.log("api/put/careerslist res",s.data);var r=Object(n.a)({},a.dbProfileState);r.careers_list=t.careersList,a.dispatchSetDbProfile(r),c(e)})).catch((function(e){console.log("api/put/careernum err",e)}))}else c(e)}([].concat(Object(q.a)(t),[i])),m()))}return Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"dropdown",children:[Object(S.jsx)("button",{type:"button",className:"btn btn-success m-1",onClick:function(){m()},children:"Add Career"}),Object(S.jsxs)(L.Modal,{isOpen:h,toggle:m,children:[Object(S.jsx)(L.ModalHeader,{toggle:m,children:"New career name:"}),Object(S.jsx)(L.ModalBody,{children:Object(S.jsxs)("form",{autoFocus:!0,onSubmit:function(e){e.preventDefault(),p()},children:[Object(S.jsx)("input",{name:"newCareer",id:"newCareer",type:"text",title:"New Career",placeholder:"career",className:"form-control",onChange:function(e){l(e.target.value)}}),Object(S.jsx)("button",{type:"submit",className:"btn btn-success w-100",children:"Add"}),Object(S.jsx)("div",{className:"text-center",children:"Existing Careers:"}),t.map((function(e,t){return Object(S.jsx)("div",{children:Object(S.jsx)("button",{type:"button",className:"btn btn-outline-success w-100",disabled:!0,children:e})},t)}))]})}),Object(S.jsx)(L.ModalFooter,{children:Object(S.jsx)(L.Button,{color:"primary",onClick:m,children:"Close"})})]})]})})}var F=c(42),T=c.n(F);c(63);function E(){this.quill.history.undo()}function H(){this.quill.history.redo()}function M(e){var t=e.id,c=e.value,n=e.setJobDescription,a=e.setPostingURL,s=b.a.useRef(),r=Object(u.useState)(!1),i=Object(j.a)(r,2),l=i[0],o=i[1],d=Object(u.useState)(""),h=Object(j.a)(d,2),O=h[0],m=h[1],p=Object(u.useMemo)((function(){return{toolbar:{container:"#toolbar-".concat(t),handlers:{preview:function(e){var t=this.quill.root.innerHTML;m(t),o(!l)},undo:E,redo:H}}}}),[t,l]);return Object(S.jsxs)("div",{className:"step d-flex  flex-column ",children:[Object(S.jsx)("h3",{id:"step1Heading",children:"Job posting URL"}),Object(S.jsx)("input",{id:"jobPostingURL",name:"jobPostingURL",className:"form-control",type:"url",title:"Job Posting URL",onChange:function(e){a(e.target.value)}}),Object(S.jsx)("h3",{id:"step3Heading",children:"Job posting description"}),Object(S.jsxs)("div",{className:"text-editor",children:[Object(S.jsxs)("div",{id:"toolbar-".concat(t),children:[Object(S.jsxs)("span",{className:"ql-formats",children:[Object(S.jsx)("button",{className:"ql-bold"}),Object(S.jsx)("button",{className:"ql-italic"}),Object(S.jsx)("button",{className:"ql-underline"})]}),Object(S.jsx)("span",{className:"ql-formats",children:Object(S.jsx)("select",{className:"ql-align"})}),Object(S.jsxs)("span",{className:"ql-formats",children:[Object(S.jsx)("button",{className:"ql-list",value:"ordered"}),Object(S.jsx)("button",{className:"ql-list",value:"bullet"}),Object(S.jsx)("select",{className:"ql-size",defaultValue:"",onChange:function(e){return e.persist()},children:["false","small","large","huge"].map((function(e,t){return Object(S.jsx)("option",{value:e},t)}))})]}),Object(S.jsx)("span",{className:"ql-formats"}),Object(S.jsx)("span",{className:"ql-formats",children:Object(S.jsx)("button",{className:"ql-link"})})]}),Object(S.jsx)(T.a,{ref:s,style:{backgroundColor:"white",minHeight:"255px",maxHeight:"900px",overflowY:"auto"},className:"step3Desc",theme:"snow",value:c,onChange:n,modules:p,formats:["bold","italic","underline","strike","script","size","header","list","indent","link","color","background","align","font","blockquote","bullet","image","code-block"]}),l?Object(S.jsx)("div",{dangerouslySetInnerHTML:{__html:O}}):""]})]})}function B(e){var t=e.setCompanyName,c=e.setJobTitle,n=Object(u.useState)(!1),a=Object(j.a)(n,2),s=a[0],r=a[1];function i(){r(!s)}return Object(S.jsxs)("div",{className:"step w-md-75",style:{backgroundColor:"white",minHeight:"100px"},children:[Object(S.jsxs)("div",{className:"d-flex justify-content-space-between justify-content-md-center gap-1 gap-md-5 required",children:[Object(S.jsxs)("div",{className:"d-flex flex-column",children:[Object(S.jsx)("label",{htmlFor:"jobTitle",children:"Company: "}),Object(S.jsx)("input",{id:"companyName",className:"form-control w-100",name:"companyName",type:"text",title:"Company Name",placeholder:"Company",onChange:function(e){t(e.target.value)}})]}),Object(S.jsxs)("div",{className:"d-flex flex-column",children:[Object(S.jsx)("label",{htmlFor:"jobTitle",children:"Job Title: "}),Object(S.jsx)("input",{id:"jobTitle",className:"form-control w-100",name:"jobTitle",type:"text",title:"Job Title",placeholder:"Job Title",onChange:function(e){c(e.target.value)}})]})]}),Object(S.jsxs)(L.Modal,{isOpen:s,toggle:i,children:[Object(S.jsx)(L.ModalHeader,{toggle:i,children:"You are currently not logged in."}),Object(S.jsx)(L.ModalBody,{children:"If you proceed to save this application without logging in, it will be saved to the public demonstration database. It will not be saved to your personal account. Please log in to save your application privately."}),Object(S.jsx)(L.ModalFooter,{children:Object(S.jsx)(L.Button,{color:"primary",onClick:i,children:"Ok"})})]})]})}function I(){this.quill.history.undo()}function J(){this.quill.history.redo()}function U(e){var t=e.id,c=e.value,n=e.onChange,a=b.a.useRef(),s=Object(u.useState)(!1),r=Object(j.a)(s,2),i=r[0],l=r[1],o=Object(u.useState)(""),d=Object(j.a)(o,2),h=d[0],O=d[1],m=Object(u.useMemo)((function(){return{toolbar:{container:"#toolbar-".concat(t),handlers:{preview:function(e){var t=this.quill.root.innerHTML;O(t),l(!i)},undo:I,redo:J}}}}),[t,i]);return Object(S.jsxs)("div",{className:"step",children:[Object(S.jsx)("h3",{id:"step4Heading",children:"Application Notes"}),Object(S.jsxs)("div",{className:"text-editor",children:[Object(S.jsxs)("div",{id:"toolbar-".concat(t),children:[Object(S.jsxs)("span",{className:"ql-formats",children:[Object(S.jsx)("button",{className:"ql-bold"}),Object(S.jsx)("button",{className:"ql-italic"}),Object(S.jsx)("button",{className:"ql-underline"})]}),Object(S.jsx)("span",{className:"ql-formats",children:Object(S.jsx)("select",{className:"ql-align"})}),Object(S.jsxs)("span",{className:"ql-formats",children:[Object(S.jsx)("button",{className:"ql-list",value:"ordered"}),Object(S.jsx)("button",{className:"ql-list",value:"bullet"}),Object(S.jsx)("select",{className:"ql-size",defaultValue:"",onChange:function(e){return e.persist()},children:["false","small","large","huge"].map((function(e,t){return Object(S.jsx)("option",{value:e},e)}))})]}),Object(S.jsx)("span",{className:"ql-formats"}),Object(S.jsx)("span",{className:"ql-formats",children:Object(S.jsx)("button",{className:"ql-link"})})]}),Object(S.jsx)(T.a,{ref:a,style:{backgroundColor:"white",minHeight:"150px",maxHeight:"770px",overflowY:"auto"},theme:"snow",value:c,placeholder:"Enter your notes in here",onChange:n,modules:m,formats:["bold","italic","underline","strike","script","size","header","list","indent","link","color","background","align","font","blockquote","bullet","image","code-block"]}),i?Object(S.jsx)("div",{dangerouslySetInnerHTML:{__html:h}}):""]})]})}var z=c(43);function V(e){var t=e.setResumeFile,c=e.resumeDisplayFile,a=e.setResumeDisplayFile;return Object(S.jsxs)("div",{className:"step",children:[Object(S.jsx)("h3",{children:"Resume"}),Object(S.jsx)(z.a,{multiple:!1,onDrop:t,children:function(e){var t=e.getRootProps,s=e.getInputProps;return Object(S.jsx)("section",{children:Object(S.jsxs)("div",Object(n.a)(Object(n.a)({},t({className:"dropzone"})),{},{children:[Object(S.jsx)("input",Object(n.a)({},s())),c.name?Object(S.jsx)("div",{children:Object(S.jsxs)("span",{className:"text-primary",children:[Object(S.jsx)("strong",{children:c.name})," - ",c.size," bytes \xa0",Object(S.jsx)("button",{className:"btn btn-outline-success",onClick:function(){a({})},children:"x"})]})}):Object(S.jsx)("strong",{children:"Drag & drop file, or click to select"})]}))})}})]})}function G(e){var t=e.setCoverLetterFile,c=e.coverLetterDisplayFile,a=e.setCoverLetterDisplayFile;return Object(S.jsxs)("div",{className:"step",children:[Object(S.jsx)("h3",{children:"Cover Letter"}),Object(S.jsx)(z.a,{multiple:!1,onDrop:t,children:function(e){var t=e.getRootProps,s=e.getInputProps;return Object(S.jsx)("section",{children:Object(S.jsxs)("div",Object(n.a)(Object(n.a)({},t({className:"dropzone"})),{},{children:[Object(S.jsx)("input",Object(n.a)({},s())),c.name?Object(S.jsx)("div",{children:Object(S.jsxs)("span",{className:"text-primary",children:[Object(S.jsx)("strong",{children:c.name})," - ",c.size," ","bytes \xa0",Object(S.jsx)("button",{className:"btn btn-outline-success",onClick:function(){a({})},children:"x"})]})}):Object(S.jsx)("strong",{children:"Drag & drop file, or click to select"})]}))})}})]})}function Y(e){var t=e.setTags;return Object(S.jsxs)("div",{className:"step w-50",children:[Object(S.jsx)("strong",{children:"Optional Tags Separated By Commas"}),Object(S.jsx)("input",{id:"jobTags",name:"jobTags",className:"form-control",type:"string",title:"Job tags",placeholder:"i.e. indeed, remote, react",onChange:function(e){t(e.target.value)}})]})}function W(){var e=Object(u.useContext)(d),t=Object(u.useState)(0),c=Object(j.a)(t,2),n=c[0],a=c[1],s=Object(u.useState)(["C1","C2"]),r=Object(j.a)(s,2),i=r[0],l=r[1],o=Object(u.useState)(""),b=Object(j.a)(o,2),h=b[0],O=b[1],m=Object(u.useState)(""),p=Object(j.a)(m,2),x=p[0],f=p[1],v=Object(u.useState)(""),g=Object(j.a)(v,2),N=g[0],C=g[1],w=Object(u.useState)(""),q=Object(j.a)(w,2),F=q[0],T=q[1],E=Object(u.useState)(""),H=Object(j.a)(E,2),I=H[0],J=H[1],z=Object(u.useState)(),W=Object(j.a)(z,2),K=W[0],X=W[1],Z=Object(u.useState)(),Q=Object(j.a)(Z,2),$=Q[0],ee=Q[1],te=Object(u.useState)({}),ce=Object(j.a)(te,2),ne=ce[0],ae=ce[1],se=Object(u.useState)({}),re=Object(j.a)(se,2),ie=re[0],le=re[1],oe=Object(u.useState)(""),je=Object(j.a)(oe,2),ue=je[0],be=je[1],de=Object(u.useState)(!1),he=Object(j.a)(de,2),Oe=he[0],me=he[1];function pe(){return(pe=Object(P.a)(Object(k.a)().mark((function t(c){var n,a;return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getByteArray(c[0]);case 2:n=t.sent,console.log(n),a=new Uint8Array(n),console.log(a),X(a),ae(c[0]);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xe(){return(xe=Object(P.a)(Object(k.a)().mark((function t(c){var n,a;return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getByteArray(c[0]);case 2:n=t.sent,a=new Uint8Array(n),ee(a),le(c[0]);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(u.useEffect)((function(){var t=e.dbProfileState;t&&(a(t.current_career_num),l(t.careers_list))}),[e.dbProfileState]),Object(S.jsxs)("div",{className:"centeredPage",children:[Object(S.jsx)("h1",{children:"Home"}),Object(S.jsx)("h3",{children:Object(S.jsxs)("span",{children:[Object(S.jsx)(R.a,{id:"tipBtn"}),Object(S.jsx)(L.Tooltip,{placement:"top",autohide:!1,isOpen:Oe,target:"tipBtn",toggle:function(){me(!Oe)},children:"This application is inteneded to be used while you are applying for a job on a site like Indeed or a company HR site. Fill out this form as you apply, then click the save button after you've submitted your application."})]})}),Object(S.jsxs)("h3",{children:["Current Career:\xa0",Object(S.jsx)("span",{className:"text-success",children:i[n]})]}),Object(S.jsxs)("div",{className:"d-flex",children:[Object(S.jsx)(A,{careersList:i,currentCareerNum:n,setCurrentCareerNum:a}),Object(S.jsx)(_,{careersList:i,setCareersList:l,setCurrentCareerNum:a}),Object(S.jsx)(D,{careersList:i,setCareersList:l,currentCareerNum:n})]}),Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col",children:Object(S.jsx)(M,{id:"step3editor",name:"step3editor",value:F,setPostingURL:O,setJobDescription:T})}),Object(S.jsxs)("div",{className:"col w75",children:[Object(S.jsx)(B,{setCompanyName:f,setJobTitle:C}),Object(S.jsx)(U,{id:"step4editor",value:I,onChange:J})]})]})}),Object(S.jsx)("div",{className:"container w-50",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col",children:Object(S.jsx)(V,{setResumeFile:function(e){return pe.apply(this,arguments)},resumeDisplayFile:ne,setResumeDisplayFile:ae})}),Object(S.jsx)("div",{className:"col",children:Object(S.jsx)(G,{setCoverLetterFile:function(e){return xe.apply(this,arguments)},coverLetterDisplayFile:ie,setCoverLetterDisplayFile:le})})]})}),Object(S.jsx)(Y,{setTags:be}),Object(S.jsx)("div",{className:"step w-50",children:Object(S.jsx)("button",{className:"btn btn-success p-2",onClick:function(){if(0===x.length||0===N.length)return document.querySelector(".required").style.color="red",void alert("Save unsuccessful. Required data is missing.");var t={username:e.isAuthenticated?e.user.email:"demoUser",postingURL:h,companyName:x,jobDescription:F.toString("html"),jobTitle:N,jobNotes:I.toString("html"),resumeFile:K,coverLetterFile:$,tags:ue.split(","),careerName:i[n],applicationDate:(new Date).toString()};y.a.post("/api/post/postapp",t).then((function(t){console.log("/api/post/postapp",t),e.isAuthenticated?console.log("Saved to user ".concat(e.user.email,"'s database.")):console.log("Saved to public demonstration database."),function(){O(""),T(""),f(""),C(""),J(""),X([]),ee([]);var e=document.getElementsByTagName("input");Array.prototype.slice.call(e).forEach((function(e){e.value=""})),document.querySelector("#step1Heading").style.color="initial",document.querySelector("#step3Heading").style.color="initial"}()})).catch((function(e){console.log(e),alert("Not saved. Error: Website under development")}))},children:"Save"})})]})}var K=c(49);function X(e){var t=e.selectedSearchOption,c=e.setSelectedSearchOption;return Object(S.jsxs)("form",{className:"d-flex mt-2",children:[Object(S.jsx)("div",{className:"form-check",children:Object(S.jsxs)("label",{children:[Object(S.jsx)("input",{type:"radio",name:"react-tips",value:"job_title",checked:"job_title"===t,onClick:function(){c("job_title")},className:"form-check-input",readOnly:!0}),"Job Title"]})}),"\xa0",Object(S.jsx)("div",{className:"form-check",children:Object(S.jsxs)("label",{children:[Object(S.jsx)("input",{type:"radio",name:"react-tips",value:"company_name",checked:"company_name"===t,onClick:function(){c("company_name")},className:"form-check-input",readOnly:!0}),"Company"]})}),"\xa0",Object(S.jsx)("div",{className:"form-check",children:Object(S.jsxs)("label",{children:[Object(S.jsx)("input",{type:"radio",name:"react-tips",value:"job_description",checked:"job_description"===t,onClick:function(){c("job_description")},className:"form-check-input",readOnly:!0}),"Description"]})})]})}function Z(){var e=Object(u.useContext)(d),t=Object(u.useState)([]),c=Object(j.a)(t,2),n=c[0],a=c[1],s=Object(u.useState)([]),r=Object(j.a)(s,2),i=r[0],l=r[1],o=Object(u.useState)(""),b=Object(j.a)(o,2),h=b[0],O=b[1],m=Object(u.useState)("job_title"),p=Object(j.a)(m,2),x=p[0],f=p[1],v=Object(u.useState)(""),g=Object(j.a)(v,2),C=g[0],w=g[1],k=Object(u.useState)(void 0),P=Object(j.a)(k,2),R=P[0],q=P[1],D=Object(u.useState)(""),A=Object(j.a)(D,2),_=A[0],F=A[1],T=Object(u.useState)(void 0),E=Object(j.a)(T,2),H=E[0],M=E[1];function B(){if(e.isAuthenticated&&e.dbProfileState){var t=e.dbProfileState.username;y.a.get("/api/get/all-user-records",{params:{email:t}}).then((function(e){a(e.data),l(e.data)})).catch((function(e){return console.log(e)}))}}return Object(u.useEffect)((function(){B()}),[e]),Object(u.useEffect)((function(){(R||H)&&console.log("Range start: ".concat(R,". Range end: ").concat(H))}),[R,H]),Object(S.jsxs)("div",{className:"centeredPage",children:[Object(S.jsx)("h1",{children:"Search"}),Object(S.jsxs)("form",{className:"form-inline d-flex my-2 my-lg-0",onSubmit:function(e){e.preventDefault(),function(e,t,c,n,a,s){if(e){var r=c?new Date(c):new Date(0),i=n?new Date(n):new Date,l=[];a.forEach((function(c){var n=new Date(c.application_date);c[t].toLowerCase().includes(e.toLowerCase())&&n>=r&&n<=i&&l.push(c)})),s(l)}}(h,x,C,_,n,l)},children:[Object(S.jsx)("input",{className:"form-control mr-sm-2",id:"searchInput",type:"search",placeholder:"Search","aria-label":"Search",value:h,onChange:function(e){O(e.target.value)}}),Object(S.jsx)("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit",children:"Search"})]}),Object(S.jsx)(X,{selectedSearchOption:x,setSelectedSearchOption:f}),Object(S.jsxs)("div",{className:"d-flex mt-3",children:[Object(S.jsxs)(L.FormGroup,{className:"text-center",children:[Object(S.jsx)(L.Label,{children:Object(S.jsx)("u",{children:"From"})}),Object(S.jsx)(K.DatePicker,{id:"example-datepicker1",value:C,onChange:function(e,t){return c=t,w(e),void q(c);var c}})]}),"\xa0",Object(S.jsxs)(L.FormGroup,{className:"text-center",children:[Object(S.jsx)(L.Label,{children:Object(S.jsx)("u",{children:"To"})}),Object(S.jsx)(K.DatePicker,{id:"example-datepicker2",value:_,onChange:function(e,t){return c=t,F(e),void M(c);var c}})]})]}),Object(S.jsx)("button",{className:"btn btn-outline-success my-2 my-sm-0",onClick:function(){B(),f("job_title"),O("")},children:"Reset"}),Object(S.jsxs)("table",{className:"table table-bordered text-center w-50 mt-4",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"Date"}),Object(S.jsx)("th",{children:"Company"}),Object(S.jsx)("th",{children:"Job Title"}),Object(S.jsx)("th",{children:"Application"})]})}),Object(S.jsx)("tbody",{children:i.length>0&&i.map((function(e,t){var c=new Date(e.application_date);return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:Object(S.jsx)(N.b,{to:"/appviewer",children:"".concat(c.getFullYear(),"-").concat(c.getMonth()+1,"-").concat(c.getDate())})}),Object(S.jsx)("td",{children:Object(S.jsx)(N.b,{to:"/appviewer",children:e.company_name})}),Object(S.jsx)("td",{children:Object(S.jsx)(N.b,{to:"/appviewer",children:e.job_title})}),Object(S.jsx)("td",{children:Object(S.jsx)(N.b,{to:"/appviewer",children:"View/Edit"})})]},t)}))})]})]})}function Q(){return Object(S.jsxs)("div",{className:"centeredPage",children:[Object(S.jsx)("h1",{children:"App Viewer"}),Object(S.jsx)("p",{children:"View and edit a selected application"})]})}var $=c.p+"static/media/loading.330b7d99.svg",ee=function(){return Object(S.jsxs)("div",{className:"page",children:[Object(S.jsx)("h3",{children:"Loading"}),Object(S.jsx)("img",{src:$,alt:"Loading"})]})},te=Object(r.c)((function(){var e=Object(r.b)(),t=e.user,c=e.logout,n=Object(u.useContext)(d);return Object(S.jsxs)("div",{className:"centeredPage",children:[Object(S.jsx)("h1",{children:"Profile"}),Object(S.jsx)("button",{className:"btn btn-primary",onClick:function(){return c()},children:"Log out"}),t.email&&Object(S.jsxs)("p",{children:["Email: ",t.email]}),t.family_name&&Object(S.jsxs)("p",{children:["Family name: ",t.family_name]}),t.given_name&&Object(S.jsxs)("p",{children:["Given name: ",t.given_name]}),t.name&&Object(S.jsxs)("p",{children:["Name: ",t.name]}),t.locale&&Object(S.jsxs)("p",{children:["Locale: ",t.locale]}),t.nickname&&Object(S.jsxs)("p",{children:["Nickname: ",t.nickname]}),t.sub&&Object(S.jsxs)("p",{children:["User ID: ",t.sub]}),Object(S.jsx)("button",{className:"btn btn-primary",onClick:function(){console.log(n.stateAuthReducer),console.log(t)},style:{padding:"5px"},children:"Log the user profile(stateAuthReducer) to the console"})]})}),{onRedirecting:function(){return Object(S.jsx)(ee,{})}}),ce=function(){var e=Object(u.useState)(!1),t=Object(j.a)(e,2),c=t[0],n=t[1];return Object(S.jsxs)("div",{className:"centeredPage",children:[Object(S.jsx)("h1",{children:"About"}),Object(S.jsx)("p",{children:"About page"}),Object(S.jsx)("h3",{children:Object(S.jsxs)("span",{children:[Object(S.jsx)(R.a,{id:"tipBtn"}),Object(S.jsx)(L.Tooltip,{placement:"top",autohide:!1,isOpen:c,target:"tipBtn",toggle:function(){n(!c)},children:"This webpage is inteneded to be used while you are applying for a job on a site like Indeed or a company HR site. Fill out this form as you apply, then click the save button after you've submitted your application."})]})})]})};function ne(){var e=Object(r.b)();Object(u.useEffect)((function(){if(e.isAuthenticated){var t=e.user;s(),l(t),y.a.post("/api/post/userprofiletodb",t).then(y.a.get("/api/get/userprofilefromdb",{params:{email:t.email}}).then((function(e){return o(e.data[0])})).catch((function(e){return console.log(e)}))).catch((function(e){return console.log(e)}))}else i(),b()}),[e.isAuthenticated,e.user]);var t=Object(u.useReducer)(g,v),c=Object(j.a)(t,2),n=c[0],a=c[1];function s(){a({type:h})}function i(){a({type:O})}function l(e){a(function(e){return{type:m,payload:e}}(e))}function o(e){a(function(e){return{type:x,payload:e}}(e))}function b(){a({type:p})}return Object(S.jsx)(d.Provider,{value:{auth0:e,user:e.user,dispatchLogin:function(){return s()},dispatchLogout:function(){return i()},dispatchSetAuthProfile:function(e){return l(e)},dispatchRemoveAuthProfile:function(){return b()},dispatchSetDbProfile:function(e){return o(e)},stateAuthReducer:n,isAuthenticated:n.isAuthenticated,dbProfileState:n.dbProfile,authProfile:n.authProfile,getByteArray:function(e){return function(e){return new Promise((function(t,c){var n=new FileReader;n.onloadend=function(e){t(e.target.result)},n.onerror=function(e){c(e)},n.readAsArrayBuffer(e)}))}(e)}},children:Object(S.jsxs)(N.a,{basename:"/",children:[Object(S.jsx)(w,{}),Object(S.jsxs)(C.c,{children:[Object(S.jsx)(C.a,{path:"/",element:Object(S.jsx)(W,{})}),Object(S.jsx)(C.a,{path:"/about",element:Object(S.jsx)(ce,{})}),Object(S.jsx)(C.a,{path:"/home",element:Object(S.jsx)(W,{})}),Object(S.jsx)(C.a,{path:"/search",element:Object(S.jsx)(Z,{})}),Object(S.jsx)(C.a,{path:"/appviewer",element:Object(S.jsx)(Q,{})}),Object(S.jsx)(C.a,{path:"/profile",element:Object(S.jsx)(te,{})})]})]})})}c(159),c(160);s.a.createRoot(document.getElementById("root")).render(Object(S.jsx)(r.a,Object(n.a)(Object(n.a)({},o),{},{children:Object(S.jsx)(ne,{})})))}},[[161,1,2]]]);
//# sourceMappingURL=main.fb3e4209.chunk.js.map